!function(){var e=window.$,i=window.ko,t=window.OCTOPRINT_VIEWMODELS,n=i.observable;e((function(){t.push({construct:function(e){var t=this;t.settingsViewModel=e[0],t.resend_every_n=i.pureComputed((function(){return t.settingsViewModel.settings.plugins.virtual_printer.resend_ratio()>0?Math.floor(100/t.settingsViewModel.settings.plugins.virtual_printer.resend_ratio()):0})),t.capabilities=i.observableArray([]),t.newCapability=n(),t.resetLines=i.observableArray([]),t.newResetLine=n(),t.preparedOks=i.observableArray([]),t.newPreparedOk=n(),t.addCapability=function(){t.capabilities.unshift({name:n(t.newCapability()),value:n(!0)}),t.newCapability("")},t.deleteCapability=function(e){t.capabilities.remove(e)},t.addResetLine=function(){t.resetLines.unshift(n(t.newResetLine())),t.newResetLine("")},t.deleteResetLine=function(e){t.resetLines.remove(e)},t.addPreparedOk=function(){t.preparedOks.unshift(n(t.newPreparedOk())),t.newPreparedOk("")},t.deletePreparedOk=function(e){t.preparedOks.remove(e)},t.onAllBound=t.onEventSettingsUpdated=t.onServerReconnect=function(){t.capabilities([]),Object.keys(t.settingsViewModel.settings.plugins.virtual_printer.capabilities).forEach((function(e){t.capabilities.push({name:n(e),value:n(t.settingsViewModel.settings.plugins.virtual_printer.capabilities[e]())})})),t.resetLines([]),t.settingsViewModel.settings.plugins.virtual_printer.resetLines().forEach((function(e){t.resetLines.push(n(e))})),t.preparedOks([]),t.settingsViewModel.settings.plugins.virtual_printer.preparedOks().forEach((function(e){t.preparedOks.push(n(e))}))},t.onSettingsBeforeSave=function(){var e={};t.capabilities().forEach((function(i){e[i.name()]=i.value})),t.settingsViewModel.settings.plugins.virtual_printer.capabilities=e;var i=[];t.resetLines().forEach((function(e){i.push(e())})),t.settingsViewModel.settings.plugins.virtual_printer.resetLines(i);var n=[];t.settingsViewModel.settings.plugins.virtual_printer.preparedOks([]),t.preparedOks().forEach((function(e){n.push(e())})),t.settingsViewModel.settings.plugins.virtual_printer.preparedOks(n)}},dependencies:["settingsViewModel"],elements:["#settings_plugin_virtual_printerconfig"]})}))}();